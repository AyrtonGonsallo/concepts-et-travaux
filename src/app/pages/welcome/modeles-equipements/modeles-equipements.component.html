<div>
    <h2>Liste des équipements</h2>   
    
    
    <div>
      <fieldset>
        <legend>Modèle</legend>
            
          <div class="section-produit">
            <button nz-button nzType="primary" class="positive-action mb-5 mt-5" [routerLink]="['/administration', 'modeles-equipements', 'ajouter-modele']">Ajouter un modèle</button>
            <div class="section-import">
              <div class="input-link">
                <input type="file" (change)="onFileSelected($event)" />
                <a href="https://api.homeren.fr/modeles_equipements_import.xlsx" class=" mb-5 mt-5" target="_blank">Télécharger le modèle</a>
              </div>
              <button nz-button nzType="primary" class="positive-action mb-5 mt-5" (click)="importer()">Importer des modèles</button>
            </div> 
            <button nz-button nzType="primary" class="positive-action mb-5 mt-5" (click)="exporter()">Exporter les modèles</button>
          </div> 
          
      </fieldset>
    </div>

    <div>
      <fieldset>
        <legend>Filtres</legend>
            
        <div class="filter-container">
          
          <div class="filter-box">
            Tâche
            <nz-select [(ngModel)]="filteredEtape" (ngModelChange)="search2()" class="filter-select">
              <nz-option  nzLabel="Toutes les étapes" nzValue=""></nz-option>
                <nz-option *ngFor="let element of liste"  [nzValue]="element" [nzLabel]="element"></nz-option>
            </nz-select>
          </div>
          

        </div>
       
      


      </fieldset>
    </div>
    
  
    <nz-table #sortTable [nzData]="listOfDisplayData" [nzPageSize]="50"  nzTableLayout="fixed" [nzScroll]="{ x: '240px' }">
        <thead>
          <tr>
            <th *ngFor="let column of listOfColumn" [nzSortOrder]="column.order" [nzSortFn]="column.compare" [nzSortPriority]="column.priority">
              {{ column.title }}
            </th>
            <th>
              Actions
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of sortTable.data" >
            <td>{{ data.Titre }}</td>
            <td>{{  data.Equipement.Titre }} ({{  data.Equipement.Type }})</td>
            <td>{{  data.Etape }} </td>
            <td>{{ data.Prix }} €</td>
            
            <td> 
              <button nz-button nzType="primary" class="positive-action mb-5"  [nzSize]="size" title="modifier" [routerLink]="['/administration', 'modeles-equipements', 'modifier-modele',data.ID]"><span nz-icon nzType="edit"></span></button>
              <button nz-button nzType="primary" class="negative-action mb-5" [nzSize]="size" title="supprimer"  nz-popconfirm
              nzPopconfirmTitle=" Voulez-vous supprimer ce modèle ?"
              nzPopconfirmPlacement="bottom"
              (nzOnConfirm)="deleteModeleEquipement(data.ID)"
              (nzOnCancel)="cancel()" ><span nz-icon nzType="delete"></span></button>
            </td>
          </tr>
        </tbody>
    </nz-table>
    
</div>
