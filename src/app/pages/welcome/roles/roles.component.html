<div>
  <h2>Tous les roles</h2>
  <button nz-button nzType="primary" class="positive-action mb-5 mt-5"  [routerLink]="['/administration', 'roles', 'ajouter-role']">Ajouter un role</button>

    <nz-table  #sortTable  [nzData]="roles" nzTableLayout="fixed" [nzScroll]="{ x: '240px' }">
        <thead>
        <tr>
            <th *ngFor="let column of listOfColumn" [nzSortFn]="column.compare" [nzSortPriority]="column.priority">
            {{ column.title }}
            </th>
            <th >
              Autorisations
                </th>
                <th>
                  Actions
                </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of sortTable.data">
            <td>{{ data.Id }}</td>
            <td>{{ data.Titre }}</td>
            <td>{{ data.Commentaire }}</td>
            <td>
                <nz-list >
                    @for (item of data.Autorisations; track item) {
                      <nz-list-item>
                        {{ item.Titre }}
                      </nz-list-item>
                    }
                </nz-list>
            </td>
            <td> 
              <button nz-button nzType="primary" class="positive-action mb-5" [nzSize]="size" title="modifier" [routerLink]="['/administration', 'roles', 'modifier-role',data.Id]"><span nz-icon nzType="edit"></span></button>
              <button nz-button nzType="primary" class="negative-action mb-5" [nzSize]="size" title="supprimer" (click)="deleteRole(data.Id)"><span nz-icon nzType="delete"></span></button>
            </td>
        </tr>
        </tbody>
    </nz-table>
</div>
